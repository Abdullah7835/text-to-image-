<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Generator</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: #f0f2f5; min-height: 100vh; text-align: center; }
        .container { max-width: 800px; margin: 50px auto; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        input { width: 100%; padding: 10px; margin: 10px 0; border: 2px solid #ddd; border-radius: 5px; }
        button { background: #6366f1; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #4f46e5; }
        .loading { display: none; font-size: 18px; margin-top: 10px; }
        .gallery img { max-width: 100%; margin-top: 20px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    </style>
</head>
<body>
    <div class="container">
        <h1>AI Image Generator</h1>
        <p>Enter text and generate an AI image</p>
        <input type="text" id="promptInput" placeholder="Describe your image...">
        <button onclick="generateImage()">Generate</button>
        <p class="loading">Generating image, please wait...</p>
        <div class="gallery" id="imageGallery"></div>
    </div>

    <script>
        const HF_API_TOKEN = "hf_your_real_api_key_here"; // Replace with your real Hugging Face API key
        const MODEL_ID = "stabilityai/stable-diffusion-xl-base-1.0";
        const PROXY_URL = "https://cors-anywhere.herokuapp.com/";

        async function generateImage() {
            const prompt = document.getElementById('promptInput').value;
            const loading = document.querySelector('.loading');
            const gallery = document.getElementById('imageGallery');

            if (!prompt) {
                alert('Please enter a prompt!');
                return;
            }

            loading.style.display = 'block';

            try {
                const response = await fetch(PROXY_URL + `https://api-inference.huggingface.co/models/${MODEL_ID}`, {
                    method: "POST",
                    headers: {
                        "Authorization": `Bearer ${HF_API_TOKEN}`,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({ inputs: prompt })
                });

                if (!response.ok) {
                    throw new Error('Failed to generate image');
                }

                const blob = await response.blob();
                const imgUrl = URL.createObjectURL(blob);

                const img = document.createElement('img');
                img.src = imgUrl;
                img.alt = prompt;
                gallery.innerHTML = ''; // Clear previous image
                gallery.appendChild(img);
            } catch (error) {
                console.error(error);
                alert('Error generating image. Please try again.');
            } finally {
                loading.style.display = 'none';
            }
        }
    </script>
</body>
</html>
